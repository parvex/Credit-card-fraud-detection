---
title: "Credit Card Fraud Detection - Zaawansowane uczenie maszynowe"
author: "Gabriel Rębacz, Michał Belniak"
date: "12/12/2020"
output:
  html_document:
    df_print: paged
    code_folding: hide
---

# Interpretacja tematu projektu

Wybranym zadaniem jest analiza problemu klasyfikacji na zbiorze danych _Credit Card Fraud Detection_ dostępnym w serwisie Kaggle.com.

Zakres projektu obejmuje 4 podstawowe sfery:

* wnikliwą analizę zbioru danych,
* przetworzenie zbioru danych do postaci odpowiednich dla poszczególnych modeli,
* przygotowanie, uczenie i strojenie modeli wybranych spośród dostępnych w języku R,
* ocenę i porównanie modeli wraz z adekwatnymi wnioskami.

# Analiza danych

```{r init, echo=F}
Sys.setlocale(category = "LC_ALL", locale = "Polish")
library(pacman)
pacman::p_load(skimr, dplyr, ggplot2, scales, corrplot, ROSE, papeR)
def_par = par(no.readonly = TRUE)
#data loading
data_df <- read.csv("creditcard.csv")


```


Zbiór danych należy przeanalizować pod kątem czynników które mają lub mogą mieć wpływ na sposób ich przygotowania oraz dobór parametrów modeli.


Pierwsze 6 rekordków zbioru danych:
```{r head}
head(data_df)
```


```{r nulls-check}
nans <- sum(is.na(data_df))

if (nans > 0) {
  sprintf("Zbiór danych ma %d wartości NaN", nans)
  # TODO eliminate NaNs in this case
} else {
  print("Zbiór nie ma wartości NaN")
}

```

Podstawowa analiza statystyczna zbioru danych:

```{r summarize}
summarize(data_df)
```


```{r rozklad-klas}
ggplot(data_df, aes(x = Class)) +
  geom_bar(aes(y = (..count..) / sum(..count..))) +
  scale_y_continuous(labels = percent) +
  labs(y = "%", x = "Klasa") +
  ggtitle("Procentowy rozkład klas")
```
```{r rozklad-klas-tabela}
summarize(data_df, type = "factor", variables = "Class", cumulative = TRUE, digits = 4)
```

Jak widać z danych odnośnie kolumny class - zbiór danych jest niezrównoważony.

```{r histogram-wartosci-transakcji}
hist(data_df$Amount,
  breaks = 500,
  xlim = c(0, max(data_df$Amount)),
  xlab = "Amount",
  ylab = "Frequency",
  main = "Hostogram wartości transakcji"
)
```

```{r wartosc-transakcji-boxlpot}
boxplot(data_df$Amount,
        main="Wykres pudełkowy wartości transakcji",
        ylab="Wartość transakcji"
)
```

Wartości transakcji są skupione w większości na najniższych wartościach mimo że występują również ekstremalne wartości.

# Przetwarzanie danych

# Przygotowanie, uczenie i strojenie wybranych modeli

## Drzewo klasyfikacji

## Regresja liniowa

## Sieć neuronowa

# Ocena jakości modeli

## Drzewo klasyfikacji

## Regresja liniowa

## Sieć neuronowa

# Podsumowanie
